{% extends "layout-nav.html" %}
{% load static %}

{% block custom_stylesheet %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block title_ext %}Dashboard - {% endblock %}

{% block main_class %} class="mb-5"{% endblock %}

{% block content %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/dashboard.js' %}" defer></script>
<script type="text/javascript">
    /* Varaibles declaration for external javascript file */
    const dashboardURL = '{% url "dashboard" %}';
    let requestModel = '{{ table_data.current_model }}';
    {% if areas_stats is not None %}
    const areasStatsData = {{ areas_stats|safe }};
    {% endif %}
</script>

<div class="sidebar">
    <ul id="ul-sidebar">
        <a href="{% url 'dashboard' %}"><li>Tables</li></a>
        <a href="{% url 'dashboard-stats' %}"><li>Stats</li></a>
        <a class="sidebar-hidden" id="a-sidebar-toggle"><li style="margin-top: 50%">Close</li></a>
    </ul>
</div>
<div class="mt-5">
    <div class="page-indicator">
        APScavenge <b>> 
        <span class="underlined">Dashboard</b></span>
        {% if request.path == '/dashboard' %}
        <form method="post" enctype="multipart/form-data" style="display: inline-block;">
            {% csrf_token %}
            <span> > {{ select_table_form.table_select }}</span>
        </form>
        {% elif request.path == '/dashboard-stats' %}
        > Stats
        {% endif %}
        <span class="sidebar-hidden" id="sidebar-toggle-container"> > <button id="button-sidebar-toggle">Toggle Sidebar</button></span>
    </div>

    {% if request.path == '/dashboard' %}
        {% include "dashboard_table.html" %}
    {% elif request.path == '/dashboard-stats' %}
        {% include "dashboard_stats.html" %}
    {% endif %}

    <!--
    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">First</th>
                <th scope="col">Last</th>
                <th scope="col">Handle</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
            </tr>
            <tr>
                <th scope="row">2</th>
                <td>Jacob</td>
                <td>Thornton</td>
                <td>@fat</td>
            </tr>
            <tr>
                <th scope="row">3</th>
                <td>Larry</td>
                <td>the Bird</td>
                <td>@twitter</td>
            </tr>
        </tbody>
    </table>
    -->
</div>

{% endblock %}