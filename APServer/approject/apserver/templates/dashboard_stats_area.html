<script type="text/javascript">
    /* Varaibles declaration for external javascript file */
    {% if areas_stats|length != 0 %}
    areasStatsData = {{ areas_stats|safe }};
    {% endif %}
</script>

<div id="stats-area-container" class="stats-grid">
    {% for area, values in areas_stats.items %}
    <div class="mb-4 container-fluid" style="padding: 0;">
        <h2 style="color:#ef9a38">{{ area }} Area Stats</h2>
        <div class="row" style="margin: 0; padding-right: 10px;">
            <div style="min-height: 300px;" class="col-lg-4 col-md-12">
                <canvas area="{{ area }}" class="doughnut-chart"></canvas>
            </div>

            <div style="min-height: 300px;" class="col-lg-6 col-md-12">
                <canvas area="{{ area }}" class="line-chart"></canvas>
            </div>
        </div>
        <div class="row" style="margin: 0; padding-right: 10px;">
            <div class="col-lg-12 col-md-12" style="display: inline-block;">
                <h3>Latest Captures</h3>
                {% for detail in values.captures %}
                <div style="display: flex; justify-content: space-between;">
                    <span class="pe-2">{{ detail.0 }} - {{ detail.1 }}</span>
                    <span class="ps-2 pe-2 my-auto py-auto" style="font-size: 0.8rem; border-left: 2px solid #ef9a38;">{{ detail.2 }}</span>
                </div>
                {% if forloop.counter != values.captures|length %}
                <br>
                {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>